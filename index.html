<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TerraShield Agriculture Insurance</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
<style>
  :root {
    --gold: #E3A008;
    --dark-gold: #D97706;
    --light-cream: #FFF8E5;
    --text-dark: #2C2A29;
    --bg: #FFFCF7;
  }

  * { box-sizing:border-box; margin:0; padding:0; font-family:'Poppins',sans-serif; }
  html { scroll-behavior:smooth; }

  body { background:var(--bg); color:var(--text-dark); }

  /* ===== HEADER NAV ===== */
  header {
    background:linear-gradient(90deg,var(--gold),var(--dark-gold));
    color:white;
    padding:1rem 1.5rem;
    display:flex;
    justify-content:space-between;
    align-items:center;
    position:sticky;
    top:0; z-index:10;
  }
  header h1 { font-size:1.3rem; }

  nav a {
    color:white; text-decoration:none; margin-left:1.2rem;
    font-weight:500; position:relative; padding-bottom:4px;
    transition:color 0.3s ease;
  }
  nav a:hover { color:var(--light-cream); }
  nav a.active { color:var(--light-cream); font-weight:600; }
  nav a.active::after {
    content:""; position:absolute; left:0; bottom:0; width:100%; height:2px;
    background-color:var(--light-cream);
  }

  /* ===== HERO SECTION ===== */
  .hero {
    background:linear-gradient(to right,#FFF7E0,#FFF8E5);
    text-align:center; padding:4rem 1rem 3rem;
  }
  .hero h2 { font-size:2.2rem; color:var(--dark-gold); }
  .slogan {
    font-style:italic; color:var(--dark-gold); font-size:1.5rem;
    font-weight:500; margin-top:.3rem; margin-bottom:1rem;
    opacity:0; transform:translateY(10px);
    animation:fadeInSlogan 1.8s ease forwards; animation-delay:.5s;
  }
  @keyframes fadeInSlogan { to{opacity:1; transform:translateY(0);} }

  .sub-brand {
    font-size:0.95rem; color:#8b6b2e; font-style:italic;
    margin-top:0.5rem; margin-bottom:1.2rem;
    border-top:1px solid #f3e1b2; display:inline-block; padding-top:0.4rem;
    opacity:0; transform:translateY(8px);
    animation:fadeInSub 1.6s ease forwards; animation-delay:0.6s;
  }
  @keyframes fadeInSub { from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }

  /* ===== CONTAINER BLOCK ===== */
  .container {
    max-width:900px; background:white; margin:3rem auto; padding:2rem;
    border-radius:12px; box-shadow:0 4px 18px rgba(0,0,0,.08);
  }
  h3 { text-align:center; color:var(--dark-gold); margin-bottom:1.2rem; }

  .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(230px,1fr)); gap:1rem; }
  label { display:block; font-size:.9rem; margin-bottom:.3rem; }
  select, input {
    width:100%; padding:.8rem; border-radius:6px; border:1px solid #ddd;
  }

  button {
    display:block; background:var(--dark-gold); color:white; border:none;
    margin:1.5rem auto 0; padding:.9rem 2.2rem;
    border-radius:8px; cursor:pointer; font-size:1.05rem;
  }
  button:hover { background:var(--gold); transform:translateY(-2px); transition:.2s; }

  #resultBox {
    display:none; background:var(--light-cream); text-align:center;
    margin-top:1rem; padding:1rem; border-radius:8px;
    color:var(--dark-gold); font-weight:500;
  }

  .disclaimer-bar {
    color:var(--dark-gold); font-family:"Georgia","Times New Roman",serif;
    font-style:italic; font-size:.7rem; line-height:1.3; margin-top:1.5rem;
  }

  footer {
    text-align:center; background:var(--dark-gold); color:white;
    padding:1.2rem; margin-top:4rem; font-size:.9rem;
  }

  @media(max-width:600px){
    header{flex-direction:column;align-items:flex-start;}
    .container{padding:1.5rem;} .hero h2{font-size:1.7rem;}
  }
</style>
</head>
<body>

<div id="site-header"></div>

<section class="hero">
  <h2>Protecting‚ÄØFarmers,‚ÄØSecuring‚ÄØHarvests</h2>
  <h3 class="slogan">‚ÄúLebih‚ÄØPasti,‚ÄØLebih‚ÄØTenang‚Äù</h3>
  <p class="sub-brand">Powered‚ÄØby‚ÄØ<strong>AgroShield‚ÄØIncome‚ÄØGuard</strong>‚ÄØ‚Äî‚ÄØAn‚ÄØIncome‚ÄØProtection‚ÄØPlan‚ÄØby‚ÄØTerraShield‚ÄØInsurance</p>
  <p>Estimate‚ÄØyour‚ÄØagricultural‚ÄØinsurance‚ÄØpremium‚ÄØinstantly‚ÄØfor‚ÄØyour‚ÄØcrops‚ÄØin‚ÄØMalaysia.</p>
</section>

<section id="calculator" class="container">
  <h3>Premium Calculator</h3>
  <div class="grid">
    <div>
      <label for="state">State</label>
      <select id="state" onchange="updateCoverageOptions()">
        <option value="">-- Select State --</option>
        <option>Johor</option><option>Kedah</option><option>Kelantan</option><option>Melaka</option>
        <option>Negeri Sembilan</option><option>Pahang</option><option>Perak</option><option>Perlis</option>
        <option>Pulau Pinang</option><option>Sabah</option><option>Sarawak</option>
        <option>Selangor</option><option>Terengganu</option>
        <option>W.P. Kuala Lumpur</option><option>W.P Labuan</option><option>W.P. Putrajaya</option>
      </select>
    </div>

    <div>
      <label for="district">District</label>
      <input id="district" placeholder="e.g. Kota Setar" />
    </div>

    <div>
      <label for="crop">Crop</label>
      <select id="crop" onchange="updateCoverageOptions()">
        <option value="">-- Select Crop --</option>
        <option>Oil Palm</option><option>Rubber</option><option>Paddy (Rice)</option>
        <option>Cocoa</option><option>Durian</option><option>Coconut</option>
        <option>Pineapple</option><option>Mango</option>
      </select>
    </div>

    <div>
      <label for="area">Area (ha)</label>
      <input id="area" type="number" value="10" step="0.1" />
    </div>

    <div>
      <label for="coverage">Coverage Level</label>
      <select id="coverage">
        <option value="">Select crop/state first</option>
      </select>
    </div>
  </div>

  <button onclick="calculatePremium()">Calculate</button>
  <div id="resultBox"></div>

  <div class="disclaimer-bar">
    <p>
       The above premiums are calculated at the standard premium rate and are for reference only.  
       The actual premiums paid must include the premium levy collected by the Insurance Authority. 
    </p>
  </div>
</section>

<footer>¬©‚ÄØ2025‚ÄØTerraShield‚ÄØAgriculture‚ÄØInsurance‚ÄØ|‚ÄØAll‚ÄØRights‚ÄØReserved</footer>

<script>
/* ===== Shared Header Load ===== */
fetch('./header.html?v=20251125')
  .then(res => res.text())
  .then(html => {
    document.getElementById('site-header').innerHTML = html;
    const currentPage = location.pathname.split("/").pop() || "index.html";
    document.querySelectorAll("nav a").forEach(link => {
      if (link.getAttribute("href").includes(currentPage)) link.classList.add("active");
    });
  }).catch(err => console.error('Header load error:', err));

/* ===== Coverage Range (for dropdown) ===== */
const coverageLimits = {
  "Oil Palm":{"Johor":[50,70],"Kedah":[50,90],"Kelantan":[50,70],"Melaka":[50,70],
    "Negeri Sembilan":[50,90],"Pahang":[50,70],"Perak":[50,90],"Perlis":[50,70],
    "Pulau Pinang":[50,70],"Sabah":[50,80],"Sarawak":[50,80],"Selangor":[50,70],
    "Terengganu":[50,70],"W.P. Kuala Lumpur":[50,70],"W.P Labuan":[50,70],"W.P. Putrajaya":[50,70]},
  "Rubber":{"Johor":[50,70],"Kedah":[50,90],"Kelantan":[50,70],"Melaka":[50,70],
    "Negeri Sembilan":[50,90],"Pahang":[50,70],"Perak":[50,70],"Perlis":[50,70],
    "Pulau Pinang":[50,70],"Selangor":[50,70],"Terengganu":[50,70],"Sabah":[50,80],
    "Sarawak":[50,80],"W.P. Kuala Lumpur":[50,70],"W.P Labuan":[50,70],"W.P. Putrajaya":[50,70]}
};

/* ===== Your Gross Premium Table ‚Äî‚Äî From Your Spreadsheet ===== */
const grossPremiumTable = {
  "Rubber": {"Johor":488.44,"Kedah":472.21,"Kelantan":517.80,"Melaka":485.34,"Negeri Sembilan":455.97,"Pahang":517.80,"Perak":501.57,"Perlis":485.34,"Pulau Pinang":514.70,"Sabah":547.17,"Sarawak":530.94,"Selangor":501.57,"Terengganu":488.44,"W.P. Kuala Lumpur":514.70,"W.P Labuan":514.70,"W.P. Putrajaya":514.70},
  "Oil Palm": {"Johor":2409.15,"Kedah":2329.09,"Kelantan":2553.99,"Melaka":2393.86,"Negeri Sembilan":2249.02,"Pahang":2553.99,"Perak":2329.09,"Perlis":2393.86,"Pulau Pinang":2538.69,"Sabah":2698.82,"Sarawak":2618.76,"Selangor":2473.92,"Terengganu":2409.15,"W.P. Kuala Lumpur":2538.69,"W.P Labuan":2538.69,"W.P. Putrajaya":2538.69}
  /* ‰Ω†ÂèØ‰ª•ÁªßÁª≠Êâ©Â±ïÂÖ∂‰ªñ‰ΩúÁâ© (Paddy, Cocoa, Durian, Coconut, Mango...) */
};

/* ===== Update Coverage Options ===== */
function updateCoverageOptions(){
  const state=document.getElementById("state").value;
  const crop=document.getElementById("crop").value;
  const coverage=document.getElementById("coverage");
  coverage.innerHTML="";
  if(state&&crop&&coverageLimits[crop]&&coverageLimits[crop][state]){
    const [min,max]=coverageLimits[crop][state];
    for(let i=min;i<=max;i+=5){
      const opt=document.createElement("option");
      opt.value=i/100; opt.textContent=i+"%"; coverage.appendChild(opt);
    }
  }else{
    const opt=document.createElement("option");
    opt.textContent="Select crop and state"; coverage.appendChild(opt);
  }
}

/* ===== CALCULATE PREMIUM ===== */
function calculatePremium(){
  const crop=document.getElementById("crop").value;
  const state=document.getElementById("state").value;
  const area=parseFloat(document.getElementById("area").value);
  const coverage=parseFloat(document.getElementById("coverage").value);
  if(!crop||!state||!area||!coverage){alert("Please fill all fields."); return;}

  const cropData=grossPremiumTable[crop];
  if(!cropData||!cropData[state]){alert("No premium data for this crop/state.");return;}

  const gross=cropData[state];
  const premium=gross*coverage;

  const result=document.getElementById("resultBox");
  result.style.display="block";
  result.innerHTML=`
    <strong>${crop}</strong> (${state})<br>
    Area: ${area}‚ÄØha<br>
    Coverage‚ÄØLevel: ${(coverage*100).toFixed(0)}%<br>
    Gross‚ÄØPremium:‚ÄØRM‚ÄØ${gross.toLocaleString()}<br>
    üí∞‚ÄØEstimated‚ÄØPremium:‚ÄØ<strong>RM‚ÄØ${premium.toLocaleString()}</strong>
  `;
}
</script>
</body>
</html>
