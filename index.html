<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TerraShield Agriculture Insurance</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
<style>
  :root {
    --gold: #E3A008;
    --dark-gold: #D97706;
    --light-cream: #FFF8E5;
    --text-dark: #2C2A29;
    --bg: #FFFCF7;
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
  }

  html { scroll-behavior: smooth; }

  body {
    background: var(--bg);
    color: var(--text-dark);
  }

  /* ===== HEADER NAV ===== */
  header {
    background: linear-gradient(90deg, var(--gold), var(--dark-gold));
    color: white;
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 10;
  }

  .logo-box { display: flex; align-items: center; gap: 10px; }
  .logo { height: 48px; width: auto; }
  header h1 { font-size: 1.3rem; letter-spacing: .5px; }

  nav a {
    color: white;
    text-decoration: none;
    margin-left: 1.2rem;
    font-weight: 500;
    position: relative;
    padding-bottom: 4px;
    transition: color 0.3s ease;
  }

  nav a:hover { color: var(--light-cream); }

  nav a.active {
    color: var(--light-cream);
    font-weight: 600;
  }
  nav a.active::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    width: 100%;
    height: 2px;
    background-color: var(--light-cream);
  }

  /* ===== HERO SECTION ===== */
  .hero {
    background: linear-gradient(to right, #FFF7E0, #FFF8E5);
    text-align: center;
    padding: 4rem 1rem 3rem;
  }
  .hero h2 {
    font-size: 2.2rem;
    color: var(--dark-gold);
  }
  .slogan {
    font-style: italic;
    color: var(--dark-gold);
    font-size: 1.5rem;
    font-weight: 500;
    margin-top: .3rem;
    margin-bottom: 1rem;
    opacity: 0;
    transform: translateY(10px);
    animation: fadeInSlogan 1.8s ease forwards;
    animation-delay: .5s;
  }
  @keyframes fadeInSlogan {
    to { opacity: 1; transform: translateY(0); }
  }

  /* ===== CONTAINER BLOCK ===== */
  .container {
    max-width: 900px;
    background: white;
    margin: 3rem auto;
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 4px 18px rgba(0,0,0,.08);
  }

  h3 {
    text-align: center;
    color: var(--dark-gold);
    margin-bottom: 1.2rem;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(230px,1fr));
    gap: 1rem;
  }
  label { display: block; font-size: .9rem; margin-bottom: .3rem; }
  select, input {
    width: 100%;
    padding: .8rem;
    border-radius: 6px;
    border: 1px solid #ddd;
  }

  button {
    display: block;
    background: var(--dark-gold);
    color: white;
    border: none;
    margin: 1.5rem auto 0;
    padding: .9rem 2.2rem;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.05rem;
  }
  button:hover { background: var(--gold); transform: translateY(-2px); transition:.2s; }

  #resultBox {
    display: none;
    background: var(--light-cream);
    text-align: center;
    margin-top: 1rem;
    padding: 1rem;
    border-radius: 8px;
    color: var(--dark-gold);
    font-weight: 500;
  }

  .disclaimer-bar {
    color: var(--dark-gold);
    font-family: "Georgia", "Times New Roman", serif;
    font-style: italic;
    font-size: 0.70rem;
    line-height: 1.3;
    margin-top: 1.5rem;
  }

  .coverage-preview {
    text-align: center;
    background: #fff9ee;
  }
  .coverage-preview p {
    max-width: 650px;
    margin: 0 auto 1.4rem;
  }
  .coverage-btn {
    display: inline-block;
    background: var(--dark-gold);
    color: white;
    padding: .7rem 1.6rem;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 500;
    transition: background .3s ease;
  }
  .coverage-btn:hover { background: var(--gold); }

  footer {
    text-align: center;
    background: var(--dark-gold);
    color: white;
    padding: 1.2rem;
    margin-top: 4rem;
    font-size: .9rem;
  }

  @media(max-width:600px){
    header{flex-direction:column;align-items:flex-start;}
    .container{padding:1.5rem;}
    .hero h2{font-size:1.7rem;}
  }
</style>
</head>
<body>

<!-- ‚úÖ Header will be loaded here -->
<div id="site-header"></div>

<!-- ===== HERO ===== -->
<section class="hero">
  <h2>Protecting Farmers, Securing Harvests</h2>
  <h3 class="slogan">‚ÄúLebih‚ÄØPasti,‚ÄØLebih‚ÄØTenang‚Äù</h3>
  <p>Estimate your agricultural insurance premium instantly for your Malaysian crops.</p>
</section>

<!-- ===== CALCULATOR ===== -->
<section id="calculator" class="container">
  <h3>Premium Calculator</h3>
  <div class="grid">
    <div>
      <label for="state">State</label>
      <select id="state" onchange="updateCoverageOptions()">
        <option value="">-- Select State --</option>
        <option>Johor</option><option>Kedah</option><option>Kelantan</option><option>Melaka</option>
        <option>Negeri Sembilan</option><option>Pahang</option><option>Perak</option><option>Perlis</option>
        <option>Pulau Pinang</option><option>Sabah</option><option>Sarawak</option>
        <option>Selangor</option><option>Terengganu</option>
        <option>W.P. Kuala Lumpur</option><option>W.P Labuan</option><option>W.P. Putrajaya</option>
      </select>
    </div>

    <div>
      <label for="district">District</label>
      <input id="district" placeholder="e.g. Kota Setar" />
    </div>

    <div>
      <label for="crop">Crop</label>
      <select id="crop" onchange="updateCoverageOptions()">
        <option value="">-- Select Crop --</option>
        <option>Oil Palm</option><option>Rubber</option><option>Paddy (Rice)</option>
        <option>Cocoa</option><option>Durian</option><option>Coconut</option>
        <option>Pineapple</option><option>Mango</option>
      </select>
    </div>

    <div>
      <label for="yield">Expected Yield (t/ha)</label>
      <input id="yield" type="number" value="5.5" step="0.1" />
    </div>

    <div>
      <label for="area">Area (ha)</label>
      <input id="area" type="number" value="10" step="0.1" />
    </div>

    <div>
      <label for="coverage">Coverage Level</label>
      <select id="coverage">
        <option value="">Select crop/state first</option>
      </select>
    </div>
  </div>

  <button onclick="calculatePremium()">Calculate</button>
  <div id="resultBox"></div>

  <div class="disclaimer-bar">
    <p>
      The above premiums are calculated at the standard premium rate and are for reference only. 
      The actual premiums paid must include the premium levy collected by the Insurance Authority.
    </p>
  </div>
</section>

<!-- ===== ABOUT OVERVIEW ===== -->
<section id="overview" class="container">
  <h3>About TerraShield</h3>
  <p>
    TerraShield empowers Malaysian farmers with reliable, data-driven insurance tools to make crop protection transparent
    and affordable for sustainable growth.
  </p>
</section>

<!-- ===== COVERAGE PREVIEW ===== -->
<section id="coverage-preview" class="container coverage-preview">
  <h3>Crop & Risk Coverage Overview</h3>
  <p>
    Learn which crops and risks are included in our Malaysian Agricultural Insurance Program ‚Äî
    from rice, durian, and oil palm to protection from floods, droughts, and typhoons.
  </p>
  <a class="coverage-btn" href="./coverage.html">View Full Coverage ‚Üí</a>
</section>

<!-- ===== CONTACT ===== -->
<section id="contact" class="container">
  <h3>Contact Us</h3>
  <p>
    Email: <a href="mailto:info@terrashield.my">info@terrashield.my</a><br/>
    Kuala Lumpur, Malaysia
  </p>
</section>

<footer>
  ¬©‚ÄØ2025‚ÄØTerraShield‚ÄØAgriculture‚ÄØInsurance‚ÄØ|‚ÄØAll‚ÄØRights‚ÄØReserved
</footer>

<!-- ‚úÖ Âú®ËøôÈáåÊèíÂÖ•Âä†ËΩΩËÑöÊú¨ -->
<script>
fetch('header.html')
  .then(res => res.text())
  .then(html => {
    document.getElementById('site-header').innerHTML = html;

    // üî∏ ËÆ©ÂΩìÂâçÈ°µÈù¢ÂØºËà™È°πÈ´ò‰∫Æ
    const currentPage = location.pathname.split("/").pop() || "index.html";
    document.querySelectorAll("nav a").forEach(link => {
      if (link.getAttribute("href").includes(currentPage)) {
        link.classList.add("active");
      }
    });
  });
</script>



/* === ORIGINAL INSURANCE PREMIUM CALCULATOR === */
const coverageLimits = {
  "Oil Palm": {"Johor":[50,70],"Kedah":[50,90],"Kelantan":[50,70],"Melaka":[50,70],
    "Negeri Sembilan":[50,90],"Pahang":[50,70],"Perak":[50,90],"Perlis":[50,70],
    "Pulau Pinang":[50,70],"Sabah":[50,80],"Sarawak":[50,80],"Selangor":[50,70],
    "Terengganu":[50,70],"W.P. Kuala Lumpur":[50,70],"W.P Labuan":[50,70],"W.P. Putrajaya":[50,70]},
  "Durian": {"Johor":[50,70],"Kedah":[50,90],"Kelantan":[50,70],"Melaka":[50,70],
    "Negeri Sembilan":[50,70],"Pahang":[50,70],"Perak":[50,80],"Perlis":[50,70],
    "Pulau Pinang":[50,70],"Sabah":[50,80],"Sarawak":[50,80],"Selangor":[50,70],
    "Terengganu":[50,70],"W.P. Kuala Lumpur":[50,70],"W.P Labuan":[50,70],"W.P. Putrajaya":[50,70]},
  "Rubber": {"Johor":[50,70],"Kedah":[50,90],"Kelantan":[50,70],"Melaka":[50,70],
    "Negeri Sembilan":[50,90],"Pahang":[50,70],"Perak":[50,70],"Perlis":[50,70],
    "Pulau Pinang":[50,70],"Selangor":[50,70],"Terengganu":[50,70],"Sabah":[50,80],
    "Sarawak":[50,80],"W.P. Kuala Lumpur":[50,70],"W.P Labuan":[50,70],"W.P. Putrajaya":[50,70]},
  "Paddy (Rice)": {"Johor":[50,70],"Kedah":[50,90],"Kelantan":[50,80],"Melaka":[50,90],
    "Negeri Sembilan":[50,70],"Pahang":[50,80],"Perak":[50,70],"Perlis":[50,70],
    "Pulau Pinang":[50,70],"Sabah":[50,80],"Sarawak":[50,80],"Selangor":[50,70],
    "Terengganu":[50,70],"W.P. Kuala Lumpur":[50,70],"W.P Labuan":[50,70],"W.P. Putrajaya":[50,70]},
  "Pineapple": {"Johor":[50,70],"Kedah":[50,90],"Kelantan":[50,70],"Melaka":[50,90],
    "Negeri Sembilan":[50,70],"Pahang":[50,80],"Perak":[50,90],"Perlis":[50,70],
    "Pulau Pinang":[50,70],"Sabah":[50,80],"Sarawak":[50,80],"Selangor":[50,90],
    "Terengganu":[50,70],"W.P. Kuala Lumpur":[50,70],"W.P Labuan":[50,70],"W.P. Putrajaya":[50,70]},
  "Cocoa": {"Johor":[50,70],"Kedah":[50,90],"Kelantan":[50,70],"Melaka":[50,70],
    "Negeri Sembilan":[50,70],"Pahang":[50,70],"Perak":[50,90],"Perlis":[50,70],
    "Pulau Pinang":[50,70],"Sabah":[50,80],"Sarawak":[50,80],"Selangor":[50,70],
    "Terengganu":[50,70],"W.P. Kuala Lumpur":[50,70],"W.P Labuan":[50,70],"W.P. Putrajaya":[50,70]},
  "Coconut": {"Johor":[50,70],"Kedah":[50,90],"Kelantan":[50,70],"Melaka":[50,70],
    "Negeri Sembilan":[50,70],"Pahang":[50,70],"Perak":[50,90],"Perlis":[50,70],
    "Pulau Pinang":[50,70],"Sabah":[50,80],"Sarawak":[50,80],"Selangor":[50,70],
    "Terengganu":[50,70],"W.P. Kuala Lumpur":[50,70],"W.P Labuan":[50,70],"W.P. Putrajaya":[50,70]},
  "Mango": {"Johor":[50,70],"Kedah":[50,90],"Kelantan":[50,70],"Melaka":[50,90],
    "Negeri Sembilan":[50,70],"Pahang":[50,70],"Perak":[50,90],"Perlis":[50,70],
    "Pulau Pinang":[50,70],"Sabah":[50,80],"Sarawak":[50,80],"Selangor":[50,70],
    "Terengganu":[50,70],"W.P. Kuala Lumpur":[50,70],"W.P Labuan":[50,70],"W.P. Putrajaya":[50,70]}
};

function updateCoverageOptions() {
  const state = document.getElementById("state").value;
  const crop = document.getElementById("crop").value;
  const coverageSelect = document.getElementById("coverage");
  coverageSelect.innerHTML = "";

  if (state && crop && coverageLimits[crop] && coverageLimits[crop][state]) {
    const [min, max] = coverageLimits[crop][state];
    for (let level = min; level <= max; level += 5) {
      const opt = document.createElement("option");
      opt.value = level / 100;
      opt.textContent = level + "%";
      coverageSelect.appendChild(opt);
    }
  } else {
    const opt = document.createElement("option");
    opt.textContent = "Select crop and state";
    coverageSelect.appendChild(opt);
  }
}

function calculatePremium() {
  const crop = document.getElementById("crop").value;
  const state = document.getElementById("state").value;
  const yieldVal = parseFloat(document.getElementById("yield").value);
  const area = parseFloat(document.getElementById("area").value);
  const coverage = parseFloat(document.getElementById("coverage").value);
  if (!crop || !state || !yieldVal || !area || !coverage) {
    alert("Please fill all fields including crop and state.");
    return;
  }

  const priceByCrop = {
    "Oil Palm":900,
    "Rubber":7000,
    "Paddy (Rice)":1500,
    "Cocoa":9000,
    "Durian":5000,
    "Coconut":1400,
    "Pineapple":1200,
    "Mango":2500
  };

  const price = priceByCrop[crop] || 1500;
  const volatility = 0.15;
  const pureRate = Math.max(0.01, volatility * (1 - coverage) * 3.0);
  const expenses = 0.12, profit = 0.15;
  const grossRate = pureRate / (1 - expenses - profit);
  const liability = yieldVal * price * area * coverage;
  const premium = liability * grossRate;

  const result = document.getElementById("resultBox");
  result.style.display = "block";
  result.innerHTML = `
    <strong>${crop}</strong> (${state})<br>
    Coverage: ${(coverage * 100).toFixed(0)}%<br>
    Expected Liability: RM ${liability.toLocaleString()}<br>
    Gross Premium Rate: ${(grossRate * 100).toFixed(2)}%<br>
    üí∞ Estimated Premium: <strong>RM ${premium.toLocaleString()}</strong>
  `;
}
</script>
</body>
</html>
